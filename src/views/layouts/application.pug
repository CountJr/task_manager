include /mixins/forms.pug

doctype html

html
  head
    title Task Manager
    script(src='/assets/vendor.js')
    script(src='/assets/app.js')
    script(src='https://code.jquery.com/jquery-3.1.1.slim.min.js', integrity='sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n', crossorigin='anonymous')
    script(src='https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js', integrity='sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb', crossorigin='anonymous')
    script(src='https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js', integrity='sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn', crossorigin='anonymous')

  body
    nav.navbar.navbar-toggleable-md.navbar-inverse.fixed-top.bg-inverse
      button.navbar-toggler.navbar-toggler-right(data-toggle='collapse', data-target='#mainMenu', aria-controls='mainMenu', aria-expanded='false', aria-label='Toggle navigation')
        span.navbar-toggler-icon
      a.navbar-brand(href="#") navbar
      #mainMenu.collapse.navbar-collapse(aria-expanded='false')
        // TODO: main menu only if logged in
        ul.navbar-nav.mr-auto
          li.nav-item
            a.nav-link item
          li.nav-item
            a.nav-link item
          li.nav-item
            a.nav-link item
          li.nav-item
            a.nav-link item
        ul.navbar-nav
          if isSignedIn()
            li.nav-item.dropdown
              a#userMenu.nav-link.dropdown-toggle(href="#", data-toggle='dropdown', aria-haspopup='true', aria-expanded='false') #{userAlias}
              .dropdown-menu(aria-labelledby='userMenu')
                a.dropdown-item(href=urlFor('usersShow', userId)) Profile
                a.dropdown-item(href=urlFor('usersEdit')) Settings
            li.nav-item
              a.nav-link.my-2.my-lg-0(href=urlFor('session') data-method='delete' rel='nofollow') Log Out
          else
            li.nav-item
              a.nav-link.my-2.my-lg-0(href=urlFor('usersNew')) Register
            li.nav-item
              a.nav-link.my-2.my-lg-0(href=urlFor('newSession')) Log In

    .container
      block contents